# Bash Auto Complete ##########################################################

# Add tab completion for SSH hostnames based on ~/.ssh/config, ignoring wildcards
[ -e "$HOME/.ssh/config" ] && complete -o "default" -o "nospace" \
  -W "$(grep "^Host" ~/.ssh/config | \
  grep -v "[?*]" | cut -d " " -f2- | tr ' ' '\n')" scp sftp ssh;

# AWS CLI
complete -C aws_completer aws

# AWS Elastic Beanstalk CLI
[ ! -s /etc/bash_completion.d/eb_completion.extra ] && \
  [ -s /usr/local/bin/eb_completion.bash ] && \
  . /usr/local/bin/eb_completion.bash

# Docker for Mac
if [[ -d /usr/local/etc/bash_completion.d ]]; then
  (
    cd /usr/local/etc/bash_completion.d || true
    [[ ! -L docker.bash-completion ]] && \
      ln -s /Applications/Docker.app/Contents/Resources/etc/docker.bash-completion
    [[ ! -L docker-machine.bash-completion ]] && \
      ln -s /Applications/Docker.app/Contents/Resources/etc/docker-machine.bash-completion
    [[ ! -L docker-compose.bash-completion ]] && \
      ln -s /Applications/Docker.app/Contents/Resources/etc/docker-compose.bash-completion
  )
fi

# vim: ft=sh
